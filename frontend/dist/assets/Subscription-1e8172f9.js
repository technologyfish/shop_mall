import{_ as k,u as w,a as U,r as p,o as C,K as u,b as _,d as i,e as o,f as e,B,F as N,g as O,l as P,h as x,t as d,i as E,w as V,j as F}from"./index-dc0220d7.js";import{g as I,c as R}from"./subscription-81e7f525.js";const T={class:"subscription-page"},z={class:"container"},A={class:"plans-section"},H={key:0,class:"plans-grid"},L={key:0,class:"plan-image"},$=["src","alt"],K={class:"plan-header"},W={class:"plan-price"},j={class:"amount"},q={class:"period"},D={class:"plan-body"},Y={class:"plan-desc"},J={class:"plan-features"},M={class:"plan-footer"},X={__name:"Subscription",setup(G){const h=w(),m=U(),c=p([]),l=p(!1),v=p(null);C(()=>{y()});const y=async()=>{try{const a=await I();c.value=a.data.data||[]}catch{u.error("Failed to load subscription plans")}},g=async a=>{var s,n,r;if(!m.token){u.warning("Please login first"),h.push("/login?redirect=/subscription");return}l.value=!0,v.value=a.id;try{const b=(await R({plan_id:a.id})).data.data.checkout_url;window.location.href=b}catch(t){((s=t.response)==null?void 0:s.status)===400&&u.error(((r=(n=t.response)==null?void 0:n.data)==null?void 0:r.message)||"Failed to create subscription"),l.value=!1}},f=a=>({monthly:"month",quarterly:"quarter",yearly:"year"})[a]||"month",S=a=>a?a.startsWith("http")?a:`https://www.aizhong168.cn${a}`:"";return(a,s)=>{const n=_("el-button"),r=_("el-empty");return i(),o("div",T,[e("div",z,[s[5]||(s[5]=B('<div class="hero-section" data-v-b365d44e><h1 class="main-title" data-v-b365d44e>HOW THE SAUCE CLUB SUBSCRIPTION WORKS</h1></div><div class="steps-section" data-v-b365d44e><div class="step-item" data-v-b365d44e><div class="step-number" data-v-b365d44e>1</div><div class="step-icon" data-v-b365d44e><div class="icon-placeholder" data-v-b365d44e>ðŸ“±</div></div><h2 class="step-title" data-v-b365d44e>JOIN THE CLUB</h2><p class="step-desc" data-v-b365d44e>Sign up to join the sauciest club in the UK. Pause, skip or cancel anytime.</p></div><div class="step-item" data-v-b365d44e><div class="step-number" data-v-b365d44e>2</div><div class="step-icon" data-v-b365d44e><div class="icon-placeholder" data-v-b365d44e>ðŸ“¦</div></div><h2 class="step-title" data-v-b365d44e>UNBOX YOUR SAUCE</h2><p class="step-desc" data-v-b365d44e>Every other month you&#39;ll receive a flavour packed delivery.</p></div><div class="step-item" data-v-b365d44e><div class="step-number" data-v-b365d44e>3</div><div class="step-icon" data-v-b365d44e><div class="icon-placeholder" data-v-b365d44e>ðŸ˜‹</div></div><h2 class="step-title" data-v-b365d44e>SAVOUR THE FLAVOUR</h2><p class="step-desc" data-v-b365d44e>Dip, drizzle and dunk like never before. Be sure to tag @thesauceclubco when you&#39;ve cracked open your new sauce.</p></div></div>',2)),e("div",A,[s[4]||(s[4]=e("h2",{class:"section-title"},"Choose Your Plan",-1)),c.value.length?(i(),o("div",H,[(i(!0),o(N,null,O(c.value,t=>(i(),o("div",{key:t.id,class:"plan-card"},[t.image?(i(),o("div",L,[e("img",{src:S(t.image),alt:t.name},null,8,$)])):x("",!0),e("div",K,[e("h3",null,d(t.name),1),e("div",W,[s[0]||(s[0]=e("span",{class:"currency"},"$",-1)),e("span",j,d(t.price),1),e("span",q,"/"+d(f(t.plan_type)),1)])]),e("div",D,[e("p",Y,d(t.description),1),e("ul",J,[e("li",null,d(t.bottles_per_delivery)+" bottles per delivery",1),s[1]||(s[1]=e("li",null,"Free shipping",-1)),s[2]||(s[2]=e("li",null,"Cancel anytime",-1))])]),e("div",M,[E(n,{type:"primary",size:"large",onClick:b=>g(t),loading:l.value&&v.value===t.id,class:"subscribe-btn"},{default:V(()=>[...s[3]||(s[3]=[F(" Subscribe Now ",-1)])]),_:1},8,["onClick","loading"])])]))),128))])):(i(),P(r,{key:1,description:"No subscription plans available"}))])])])}}},ee=k(X,[["__scopeId","data-v-b365d44e"]]);export{ee as default};
