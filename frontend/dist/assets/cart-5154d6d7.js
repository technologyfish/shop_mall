import{H as e,S as n}from"./index-dc0220d7.js";function u(){return e({url:"/api/cart",method:"get"})}function s(t){return e({url:"/api/cart",method:"post",data:t})}function i(t,a){return e({url:`/api/cart/${t}`,method:"put",data:a})}function o(t){return e({url:`/api/cart/${t}`,method:"delete"})}function m(t){return e({url:"/api/cart/delete-selected",method:"post",data:{ids:t}})}const h=n("cart",{state:()=>({cartItems:[]}),getters:{cartCount:t=>t.cartItems.length,cartTotalQuantity:t=>t.cartItems.reduce((a,r)=>a+r.quantity,0),cartTotal:t=>t.cartItems.reduce((a,r)=>{var c;return a+(((c=r.product)==null?void 0:c.price)||0)*r.quantity},0)},actions:{async fetchCart(){const t=await u();return this.cartItems=t.data.data||[],t},async addItem(t,a=1){await s({product_id:t,quantity:a}),await this.fetchCart()},async updateItem(t,a){await i(t,{quantity:a}),await this.fetchCart()},async removeItem(t){await o(t),await this.fetchCart()}}});export{m as d,h as u};
