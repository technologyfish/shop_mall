import{u as J,a as w,r as k,c as p,o as Y,b as B,d as c,e as u,f as e,F as b,g as _,t as C,h as H,n as S,i as s,w as a,j as r,k as h,l as K,_ as X}from"./index-dc0220d7.js";import{u as G}from"./cart-5154d6d7.js";import{g as O}from"./home-c0265e74.js";import{_ as L}from"./Footer-88bafd9e.js";const Z="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAADU0lEQVR4AeyZvWsUQRjGb+0EY2FjDH6iIBqMFoJgFZugYqkWdloYDFhoaZP4B4iVgkI6bRQLURGxiJ0gWBhbRRE1oghBCwuR+HuOfS+Tzcxmb3I3dwcn77Pzzsf78ew7s7dZ19R6/F+fQKcL2K9A11RgYWFhAEwFMNbpREPx3S30i0WTAQwy3pXiEihLsCcIDMHgSAF067Kpfu3CS6MCWZbNgRcGcn0H/gFJT1RAiTYAkc90PgDJIId7pkOYIO4GJeFDowK+ScaMwCh6p3CD2MeAV1Yi8MZrlX4wuIVXIvDNyfUo2yqZENe9624eTC3KSgS+Li6tbXb0FOp2J0g0gTnHSWoCO5zY0QTcCmxxHKZQe74CVvG/HLyfoTtWegYw/I2hQJP8DGxUUBDcPszVSgloAbBzkHoLtYyAnYP1/CKuhVDbhTjrCCLQ1OwGSl+GJipQt9ULX11p86XSAVYOVQhYBbS+Jwm4JUxFwJ5AummrPsSdqID77rNqAp2ogD2BWl6BVH+ZtZRAb1eg8Guc6hBbBeaJ/0f7KIQqj1HZWhWG+JHxfTuaZNzgm29qjIBGoPQAs67Sq4TW2ZNogI7v29EU4wbffLNj9ivcMgLTJGgvdahJ5AdRHoNSqbSF2Id38LIHFL8btbM/TNxrxCyVSgTkAWdfQOO7UQJdFVDoUlQm4PPCwT0DpoG+Gd2kPe9bVxxjXZRd0Y/60QRI4h4O7oJzQN+MLtDeYvwZbVCYj7ILOYwiQBJ64pwKOB1j/qxvjvEoO58vG4sigPFxYHKZ85DROQ30OZKmdkUXD07mY/ruOp7bjedjai7q0gxiCezNg8ySxHXptPdpXwLJLu72ASkG+rIZzvtPWX9bet6+lw52g6YkloA9IUZIzH3B2+pE/+joUq060vfpImCvv752SgfBrw/MeSWWwFvH23OSGAUzjB0Ckgfc2XkpBvr6H6BHeb++Hhsd/of5mJpXujSDWAKXnCDaFkpeydjwhCmF1rXTetmNOGtCds6SpWoUAe6m9uw2XD0Brrymsz/Lsu+0yyTWbpkjZyCKgOxJ5hM4ga7Xiau0h+kfBLPoQWE+yi7kMJqAOSQhvV5M0doTyKZKW9ZH2RWdrppA0WHqfp9A6jtejPcfAAD//2/4lYwAAAAGSURBVAMAd23pcN88kqEAAAAASUVORK5CYII=",j="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAFZUlEQVR4AeyYS2hcVRjHJ08CoWkRYjWIVE1FcGnAFjfautJFsbaBSoUuMokghESSSbKaCQjJTEIy4AszoYWWLKxoQYpFqKlYN1JxI7qpoG6mGCoYxIV5+vvHEzOPe849d2aKCBO+L+fc7/H/f98599659zbG/ud/9Qb+6w2s70B9B6pcgZqfQlNTU89mMpk+ND0zM/ORVHO0T74q6y1Lr7qB+fn5Bykyjl6kyN+bmppuwDK7vb19Cn3I6CnZ5FOMYtG4crFXJRU3IPJ0Op1aX1//hiIX0P1U8kZjY2NnIpE4MDY29hjj01IzPyCfYhSLLihXGMLCXpFU1ACr2CfyhoaGJKw3GI9Q6An0/MjIyF1sgSKfYtATyiFIuUlhCZPjyBK5Aa0YLDl0ZWtr6wWKOTs6Ovo1x0UyNzfXrXNeqnmRkwPlKFcYHK6gOYPN1F8iNSACVk6rvtzW1nZkfHz8WiEV/h5W8gK6vbGxcVvnvFRz2dALiinMEYawsC0LG3+Kubd4NwD5aRGgKVbu+ODg4F+FLFyUL+K7iu0capNzilFsYYCwhMl1MYk/Ka5Cv2vu1YABvAx4jq2fLAWkoHbI38Z+EA2Tg8Sez2azZbFc7ClxAHDZcDJ1S2gD5g6RBeZmR0fH64xlQkGnMR5CfeX+tbW1kaBgw3ETX9ZwM7VLaAMQDZDexcU2NTAwsM48SNRAkN1lC2xAHOIisctwM7WLswGtAFsaJ31JFxujTZ6wOSqxG64lcasGF4azAVbgJZK7AHqL0SWPupyV+AyndkE1WCGcDQDyPJnXuXDL7vPYC8X641UYVDJ35hjO66aGktS9Q2cDhKmBzxjD5LewgAC/T464VUNA+j8mawP6BSVkX2tr6yXGMHGupiU5NMdw7zO1BMJYG+AXtJuM1aGhoV8ZY7GY/T+30cft3mCPT47hXjW1BAJZGyD6MCQ+2xzjPP2T+Ejim2NqOGwDtzYAQTcaus0CJu5bjRH1lk882HdRnQ2B4dYGTHSDGcMGvcSExRT5KUoXaJHNcuCswdoAW/cjgJ1oqFDMMkHfo76Sb25u/tQzuNPUEhhubYDo26hXA7yo/EAT88T7ytXh4eE7nsGqQbUEhlsb2Nzc1A6086T5SGBmiZFn/s9LTNZDmtXDmtW/6zDc7aaWXXPRaG1gYmLiCyJX2b7jjKFC/M8EfYeGim8DhnsVbNUSiGttQNEQfcJ4DPUS4kOvA2Kuccr94gUYix0jXjVYw50NkKWtPjM7O/sU81BhxbQLzjgelZecAcZpOM9wqBoYgsXZAHcKvSLmIe0PTt+zmvP1gT2Ldbafl/z7rF7jMJy6W6kGYy0fnA3oTsGq5kjrp8DAU2l6ejrO698l4nSeut6HgYnpV/sdLvgvyXkPzFdiAX/YxdUPZk41BIT8a3I2oCgeqN5nzAP2JuOOQP5MOp3+gPEOH6sWMJ5FH0Z95UkCXwNzCYyfKPgieD3YdgS7uPKGe8dm+xfagFkBfUo5CkkKQj0ffcXF1QuozylDmFMOUfCr4N0Ce0UcRB9Fk4abqV1CG1AqnzwWIdn55MFx6PlLTKXSSSNJcYnTB8SrAQHpk4eANb+XKg5x+XJ4NyBAA6xTR4f3QnsNhzd2pAaEytZ+yKgm8oy1EmH1GuxImJEbELqIWlpaerTdHIucoSLR3W1SWMKsBKGiBkSkO4S2W+Q0oi92V7D/gYaJYq4oR7nCEFZYks1fcQO7gCKniHdZwZNoB0+Oz+HTx7AMd5SPpRxn0Lh8ikFPKke52KuSqhsoZdeTYyKRWKTIMb7tvCzVHF2UrzS+2uOaN1BtQVHz6w1EXbFax9d3oNYrGhXvbwAAAP//+SwX2QAAAAZJREFUAwBel1B/H+2McwAAAABJRU5ErkJggg==";const I={class:"navbar-wrapper"},T={key:0,class:"announcement-bar"},W={class:"announcement-scroll"},P={class:"announcement-track"},Q=["href"],R=["href"],z={class:"main-nav"},V={class:"nav-container"},E={class:"nav-actions"},q={key:0,class:"user-menu"},$=["src"],ee={class:"cart-menu"},te=["src"],se={class:"cart-count"},ne={__name:"Navbar",setup(F){const A=J(),g=w(),d=G(),v=k([]),l=k(!1);k(!1),k(!1);const f=p(()=>g.isLoggedIn),U=p(()=>g.user),D=p(()=>d.cartCount);p(()=>d.cartItems),p(()=>d.cartTotal);const M=async()=>{try{const m=await O();v.value=m.data.data||[]}catch(m){console.error("获取公告失败:",m)}},N=()=>{l.value=!l.value,l.value?document.body.style.overflow="hidden":document.body.style.overflow=""},n=()=>{l.value=!1,document.body.style.overflow=""},x=()=>{window.innerWidth<=768?A.push("/user-center"):A.push("/user-center/orders")};return Y(async()=>{M(),f.value&&await d.fetchCart()}),(m,t)=>{var y;const o=B("router-link");return c(),u("div",I,[v.value.length?(c(),u("div",T,[e("div",W,[e("div",P,[(c(!0),u(b,null,_(v.value,i=>(c(),u("span",{key:i.id,class:"announcement-item"},[e("a",{href:i.link||"#",class:"announcement-text"},C(i.content),9,Q)]))),128)),(c(!0),u(b,null,_(v.value,i=>(c(),u("span",{key:"copy-"+i.id,class:"announcement-item"},[e("a",{href:i.link||"#",class:"announcement-text"},C(i.content),9,R)]))),128))])])])):H("",!0),e("nav",z,[e("div",V,[e("div",{class:S(["nav-overlay",{active:l.value}]),onClick:n},null,2),e("div",{class:S(["nav-menu",{active:l.value}])},[e("button",{class:"mobile-close-btn",onClick:n},[...t[0]||(t[0]=[e("span",{class:"close-icon"},"✕",-1)])]),s(o,{to:"/home",class:"nav-link",exact:"",onClick:n},{default:a(()=>[...t[1]||(t[1]=[r("Home",-1)])]),_:1}),s(o,{to:"/shop",class:"nav-link",onClick:n},{default:a(()=>[...t[2]||(t[2]=[r("Shop",-1)])]),_:1}),s(o,{to:"/our-journey",class:"nav-link",onClick:n},{default:a(()=>[...t[3]||(t[3]=[r("Our Journey",-1)])]),_:1}),s(o,{to:"/recipes",class:"nav-link",onClick:n},{default:a(()=>[...t[4]||(t[4]=[r("Recipes",-1)])]),_:1}),s(o,{to:"/photos",class:"nav-link",onClick:n},{default:a(()=>[...t[5]||(t[5]=[r("Photos",-1)])]),_:1}),s(o,{to:"/subscription",class:"nav-link",onClick:n},{default:a(()=>[...t[6]||(t[6]=[r("Join the Club",-1)])]),_:1}),s(o,{to:"/contact",class:"nav-link",onClick:n},{default:a(()=>[...t[7]||(t[7]=[r("Contact",-1)])]),_:1})],2),e("div",E,[e("button",{class:"mobile-menu-btn",onClick:N},[...t[8]||(t[8]=[e("span",null,null,-1),e("span",null,null,-1),e("span",null,null,-1)])]),f.value?(c(),u("div",q,[e("a",{onClick:x,class:"icon-btn",style:{cursor:"pointer"}},[e("img",{src:((y=U.value)==null?void 0:y.avatar)||h(j),class:"avatar"},null,8,$)])])):(c(),K(o,{key:1,to:"/login",class:"btn-primary"},{default:a(()=>[...t[9]||(t[9]=[r(" 登录/注册 ",-1)])]),_:1})),e("div",ee,[s(o,{to:"/cart",class:"icon-btn cart-btn"},{default:a(()=>[e("img",{src:h(Z),alt:"Cart",class:"cart-icon"},null,8,te),e("span",se,"("+C(D.value)+")",1)]),_:1})])])])])])}}};const oe={class:"user-layout"},ae={class:"main-content"},ce={__name:"UserLayout",setup(F){const A=w(),g=G();return Y(()=>{A.token&&(A.fetchUserInfo().catch(()=>{}),g.fetchCart().catch(()=>{}))}),(d,v)=>{const l=B("router-view");return c(),u("div",oe,[s(ne),e("main",ae,[s(l)]),s(L)])}}},Ae=X(ce,[["__scopeId","data-v-48541c49"]]);export{Ae as default};
