import{H as z,_ as B,r,c as C,o as I,K as L,b as p,d as a,e as o,i as _,f as i,F as b,g as N,l as V,h,t as f}from"./index-dc0220d7.js";import{P as F}from"./PageLoading-2caa7b90.js";function U(v){return z({url:"/api/photos",method:"get",params:v})}const $={class:"photos-page"},q={class:"container"},D={key:0,class:"photos-grid"},E={class:"photo-card"},G={class:"photo-info"},H={key:0},K={key:2,class:"pagination"},M={__name:"Photos",setup(v){const n=r([]),l=r(1),c=r(12),d=r(0),u=r(!0),y=C(()=>n.value.map(e=>m(e.image))),P=e=>n.value.findIndex(s=>s.id===e.id);I(()=>{g()});const g=async()=>{u.value=!0;try{const e=await U({page:l.value,per_page:c.value});n.value=e.data.data.data||[],d.value=e.data.data.total||0}catch{L.error("获取照片失败")}finally{u.value=!1}},m=e=>e?e.startsWith("http")?e:`https://www.aizhong168.cn${e}`:"https://via.placeholder.com/400";return(e,s)=>{const x=p("el-image"),w=p("el-empty"),k=p("el-pagination");return a(),o("div",$,[_(F,{visible:u.value,text:"Loading photos..."},null,8,["visible"]),i("div",q,[s[1]||(s[1]=i("h1",{class:"page-title"},"Photo Gallery",-1)),n.value.length?(a(),o("div",D,[(a(!0),o(b,null,N(n.value,t=>(a(),o("div",{key:t.id,class:"photo-item"},[i("div",E,[_(x,{src:m(t.image),alt:t.name,"preview-src-list":y.value,"initial-index":P(t),fit:"cover",class:"photo-image","zoom-rate":1.2,"max-scale":7,"min-scale":.2,"preview-teleported":""},null,8,["src","alt","preview-src-list","initial-index"]),i("div",G,[i("h3",null,f(t.name),1),t.description?(a(),o("p",H,f(t.description),1)):h("",!0)])])]))),128))])):(a(),V(w,{key:1,description:"暂无照片"})),d.value>c.value?(a(),o("div",K,[_(k,{"current-page":l.value,"onUpdate:currentPage":s[0]||(s[0]=t=>l.value=t),total:d.value,"page-size":c.value,layout:"prev, pager, next",onCurrentChange:g},null,8,["current-page","total","page-size"])])):h("",!0)])])}}},j=B(M,[["__scopeId","data-v-52a0a3d8"]]);export{j as default};
