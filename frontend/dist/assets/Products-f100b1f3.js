import{_ as w,u as x,I as C,r as c,J as z,o as B,b as g,d as n,e as r,i as p,f as s,F as $,g as I,l as U,n as A,t as _}from"./index-dc0220d7.js";import{g as F}from"./product-3eb05e62.js";import{P as L}from"./PageLoading-2caa7b90.js";const S={class:"products-page"},V={class:"container"},D={key:0,class:"product-grid"},N=["onClick"],R={class:"card-top"},j={class:"product-image"},E=["src","alt"],J={class:"card-bottom"},M={class:"price"},W={class:"pagination"},q={__name:"Products",setup(G){const m=x();C();const i=c([]),d=c(0),l=c(!0),o=z({page:1,limit:12,status:1});B(async()=>{await u()});const u=async()=>{l.value=!0;try{const t=await F(o);i.value=t.data.data.data||[],d.value=t.data.data.total||0}catch(t){console.error("Fetch products error:",t)}finally{l.value=!1}},v=t=>{m.push(`/product/${t}`)},h="https://www.aizhong168.cn",y=t=>t?t.startsWith("http")?t:`${h}${t}`:"",f=t=>{let e="";return t.images&&Array.isArray(t.images)&&t.images.length>0?e=t.images[0]:e=t.image,e?y(e):"/placeholder-product.jpg"};return(t,e)=>{const P=g("el-empty"),b=g("el-pagination");return n(),r("div",S,[p(L,{visible:l.value,text:"Loading products..."},null,8,["visible"]),e[3]||(e[3]=s("div",{class:"header-section"},[s("h1",null,"Shop All Products")],-1)),s("div",V,[i.value.length?(n(),r("div",D,[(n(!0),r($,null,I(i.value,(a,k)=>(n(),r("div",{key:a.id,class:A(["product-card",`bg-style-${k%4}`]),onClick:H=>v(a.id)},[s("div",R,[s("div",j,[s("img",{src:f(a),alt:a.name},null,8,E)])]),s("div",J,[s("h3",null,_(a.name),1),s("p",M,"£"+_(a.price),1),e[2]||(e[2]=s("button",{class:"btn-view"},"View Product",-1))])],10,N))),128))])):(n(),U(P,{key:1,description:"暂无商品"})),s("div",W,[p(b,{class:"my-pagination","current-page":o.page,"onUpdate:currentPage":e[0]||(e[0]=a=>o.page=a),"page-size":o.limit,"onUpdate:pageSize":e[1]||(e[1]=a=>o.limit=a),total:d.value,layout:"prev, pager, next",onCurrentChange:u},null,8,["current-page","page-size","total"])])])])}}},T=w(q,[["__scopeId","data-v-45bc1320"]]);export{T as default};
