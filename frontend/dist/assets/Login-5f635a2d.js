import{_ as V,u as b,a9 as x,r as m,J as h,b as l,d as k,e as L,f as p,i as o,w as a,j as B,Q as _}from"./index-dc0220d7.js";const C={class:"admin-login-page"},N={class:"login-card"},R={__name:"Login",setup(q){const c=b(),f=x(),d=m(),t=m(!1),s=h({username:"admin",password:"password"}),g={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},w=async()=>{await d.value.validate(async u=>{if(u){t.value=!0;try{await f.login(s),_.success("登录成功"),c.push("/admin")}catch(e){_.error(e.message||"登录失败")}finally{t.value=!1}}})};return(u,e)=>{const i=l("el-input"),r=l("el-form-item"),v=l("el-button"),y=l("el-form");return k(),L("div",C,[p("div",N,[e[3]||(e[3]=p("h2",null,"管理后台登录",-1)),o(y,{model:s,rules:g,ref_key:"formRef",ref:d,"label-width":"80px"},{default:a(()=>[o(r,{label:"用户名",prop:"username"},{default:a(()=>[o(i,{modelValue:s.username,"onUpdate:modelValue":e[0]||(e[0]=n=>s.username=n),placeholder:"请输入用户名"},null,8,["modelValue"])]),_:1}),o(r,{label:"密码",prop:"password"},{default:a(()=>[o(i,{modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=n=>s.password=n),type:"password",placeholder:"请输入密码"},null,8,["modelValue"])]),_:1}),o(r,null,{default:a(()=>[o(v,{type:"primary",onClick:w,loading:t.value,style:{width:"100%"}},{default:a(()=>[...e[2]||(e[2]=[B(" 登录 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])])}}},S=V(R,[["__scopeId","data-v-ef5d72ce"]]);export{S as default};
