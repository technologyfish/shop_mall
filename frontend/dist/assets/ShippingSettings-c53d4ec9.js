import{_ as h,J as v,r as y,o as b,H as m,Q as o,b as i,d as x,e as V,f as l,i as a,w as n,j as S}from"./index-dc0220d7.js";const w={class:"shipping-settings-page"},k={class:"card"},B={__name:"ShippingSettings",setup(C){const s=v({shipping_fee:0,free_shipping_threshold:0,status:1}),r=y(!1);b(()=>{_()});const _=async()=>{try{const t=await m.get("/api/admin/shipping-settings");t.data.code===0&&t.data.data&&Object.assign(s,t.data.data)}catch(t){console.error("获取运费设置失败:",t),o.error("获取运费设置失败")}},c=async()=>{r.value=!0;try{const t=await m.put("/api/admin/shipping-settings",s);t.data.code===0?(o.success("保存成功"),_()):o.error(t.data.message||"保存失败")}catch(t){console.error("保存失败:",t),o.error("保存失败")}finally{r.value=!1}};return(t,e)=>{const u=i("el-input-number"),p=i("el-form-item"),f=i("el-button"),g=i("el-form");return x(),V("div",w,[e[5]||(e[5]=l("h1",{class:"page-title"},"运费设置",-1)),l("div",k,[a(g,{model:s,"label-width":"150px",style:{"max-width":"600px"}},{default:n(()=>[a(p,{label:"基础运费"},{default:n(()=>[a(u,{modelValue:s.shipping_fee,"onUpdate:modelValue":e[0]||(e[0]=d=>s.shipping_fee=d),min:0,precision:2,step:.01},null,8,["modelValue"]),e[2]||(e[2]=l("span",{class:"tip"},"（单位：£）",-1))]),_:1}),a(p,{label:"免运费门槛"},{default:n(()=>[a(u,{modelValue:s.free_shipping_threshold,"onUpdate:modelValue":e[1]||(e[1]=d=>s.free_shipping_threshold=d),min:0,precision:2,step:1},null,8,["modelValue"]),e[3]||(e[3]=l("span",{class:"tip"},"（订单金额达到此金额免运费，设为0表示不免运费）",-1))]),_:1}),a(p,null,{default:n(()=>[a(f,{type:"primary",onClick:c,loading:r.value},{default:n(()=>[...e[4]||(e[4]=[S("保存设置",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])])}}},j=h(B,[["__scopeId","data-v-daf878d8"]]);export{j as default};
